(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["1d92eb72"],{"0532":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{attrs:{padding:""}},[n("div",{staticClass:"row"},[n("h5",{staticClass:"q-my-none"},[e._v("WebAuthn")])]),n("div",{staticClass:"row q-pb-lg"},[n("span",{staticClass:"text-grey"},[e._v("Criado pela W3C, WebAuthn é uma promissora API para autenticação sem senha")])]),n("div",{staticClass:"row q-pb-lg"},[e.canUseWebAuthn?e._e():n("div",{staticClass:"q-pb-lg text-body1"},[n("Note",{attrs:{type:"negative",label:"Seu navegador não tem suporte para utilizar WebAuthn."}})],1),n("div",{staticClass:"col"},[n("q-btn",{attrs:{color:"positive",label:"Criar chave",disable:!e.canUseWebAuthn},on:{click:e.createCredential}}),n("q-btn",{staticClass:"q-mx-md",attrs:{color:"primary",label:"Login",disable:!e.canUseWebAuthn||!e.credentials.length},on:{click:e.login}}),n("q-btn",{attrs:{label:"Limpar",disable:!e.canUseWebAuthn||!e.credentials.length},on:{click:e.clearCredentials}})],1)]),e.credentials.length?n("div",{staticClass:"row"},[n("div",{staticClass:"col"},e._l(e.credentials,(function(t,a){return n("div",{key:a,staticClass:"row"},[n("div",{staticClass:"col col-sm-6 col-md-4 col-lg-3 q-mb-md"},[n("q-card",[n("q-card-section",[n("div",{staticClass:"row"},[n("div",{staticClass:"col col-1"},[n("q-icon",{attrs:{name:"vpn_key"}})],1),n("div",{staticClass:"col"},[n("div",{attrs:{title:"Fingerprint"},domProps:{textContent:e._s(t.fingerprint)}}),n("div",{staticClass:"text-grey",attrs:{title:"Data de criação"},domProps:{textContent:e._s(t.created)}})])])])],1)],1)])})),0)]):e._e(),n("div",{staticClass:"row hide"},[n("pre",{domProps:{textContent:e._s(e.credentials)}})])])},r=[],i=(n("551c"),n("06db"),n("34ef"),n("967e")),s=n.n(i),c=(n("96cf"),n("fa84")),o=n.n(c),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"note note-"+e.type+" q-pa-sm"},[n("span",{domProps:{textContent:e._s(e.label)}})])},u=[],d={name:"Note",props:{type:{type:String,default:"positive",validator:function(e){return-1!==["primary","secondary","accent","positive","negative","info","warning"].indexOf(e)}},label:String}},p=d,f=(n("0b6a"),n("2877")),b=Object(f["a"])(p,l,u,!1,null,"3a3336be",null),g=b.exports,h={name:"WebAuthn",components:{Note:g},data:function(){return{credentials:JSON.parse(localStorage.getItem("credentials")||"[]")}},computed:{canUseWebAuthn:function(){return!!navigator.credentials&&!!navigator.credentials.preventSilentAccess}},methods:{createCredential:function(){var e=o()(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m("lucascampelo","Lucas Campelo","d2a452edff079ca6980edcf54cc49945");case 2:return t=e.sent,e.next=5,navigator.credentials.create({publicKey:t});case 5:return n=e.sent,e.next=8,this.storeCredential(n);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),login:function(){var e=o()(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(this.credentials);case 3:return t=e.sent,e.next=6,navigator.credentials.get({publicKey:t});case 6:n=e.sent,console.log(n),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log("FAIL",e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}(),storeCredential:function(e){this.credentials.push(x(e)),localStorage.setItem("credentials",JSON.stringify(this.credentials))},deleteCredential:function(e){console.log("deleteCredential",e,this.credentials)},clearCredentials:function(){this.credentials=[],localStorage.setItem("credentials",JSON.stringify(this.credentials))}}};function m(e,t,n){return v.apply(this,arguments)}function v(){return v=o()(s.a.mark((function e(t,n,a){var r,i,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="7JGeroQlsy4X8FOXDp/GXM9eidJGaD8n8VfCfuquIjg=",i=w(r),c=w(a),e.abrupt("return",new Promise((function(e){return setTimeout((function(){return e({challenge:i,rp:{id:location.hostname,name:"lucascampelo-jslab"},user:{id:c,name:t,displayName:n},attestation:"direct",pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-35},{type:"public-key",alg:-36},{type:"public-key",alg:-257},{type:"public-key",alg:-258},{type:"public-key",alg:-259},{type:"public-key",alg:-37},{type:"public-key",alg:-38},{type:"public-key",alg:-39}],authenticatorSelection:{requireResidentKey:!1,userVerification:"discouraged"}})}),150)})));case 2:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function y(e){return C.apply(this,arguments)}function C(){return C=o()(s.a.mark((function e(t){var n,a,r;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="/iJhHoHRwsqc70itD71iBiqlXDmGNMV2weAeMkBanz0=",a=w(n),r=t.map((function(e){var t=e.rawId,n=e.type;return{id:w(t),type:n}})),e.abrupt("return",new Promise((function(e){return setTimeout((function(){return e({rpId:location.hostname,challenge:a,allowCredentials:r,userVerification:"discouraged"})}),150)})));case 2:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function w(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}function k(e){return btoa(new Uint8Array(e).reduce((function(e,t){return e+String.fromCharCode(t)}),""))}function x(e){var t=e.rawId,n=e.response,a=e.id,r=e.type,i=new Date;return{id:a,type:r,rawId:k(t),response:{attestationObject:k(n.attestationObject),clientDataJSON:k(n.clientDataJSON)},fingerprint:"A1:B2:C3:D4:E5:F6:G7:H8:I9:J0",created:i.toLocaleString()}}window.strToBin=w,window.binToStr=k;var q=h,A=n("eebe"),S=n.n(A),_=n("9989"),I=n("9c40"),J=n("f09f"),O=n("a370"),N=n("0016"),W=Object(f["a"])(q,a,r,!1,null,null,null);t["default"]=W.exports;S()(W,"components",{QPage:_["a"],QBtn:I["a"],QCard:J["a"],QCardSection:O["a"],QIcon:N["a"]})},"0b6a":function(e,t,n){"use strict";var a=n("af82"),r=n.n(a);r.a},af82:function(e,t,n){}}]);